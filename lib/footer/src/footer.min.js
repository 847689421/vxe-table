"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_tools=require("../../tools");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var _default={name:"VxeTableFooter",props:{footerData:Array,tableColumn:Array,visibleColumn:Array,fixedColumn:Array,size:String,fixedType:String},render:function(m){var h=this.$parent,v=this.fixedType,e=this.fixedColumn,t=this.tableColumn,l=this.footerData,b=h.$listeners,y=h.border,o=h.footerRowClassName,w=h.footerCellClassName,r=h.tableWidth,n=h.scrollbarWidth,i=h.scrollbarHeight,c=h.scrollXLoad,d=h.scrollXStore,_=h.showOverflow,g=h.overflowX,$=h.getColumnMapIndex;return v&&_?r=(t=e).reduce(function(e,t){return e+t.renderWidth},0):c&&(v&&(t=e),r=t.reduce(function(e,t){return e+t.renderWidth},0)),m("div",{class:["vxe-table--footer-wrapper",v?"fixed--".concat(v,"-wrapper"):"footer--wrapper"],style:{"margin-top":"".concat(-i-1,"px")},on:{scroll:this.scrollEvent}},[!v&&c?m("div",{class:["vxe-body--x-space"],style:{width:"".concat(h.tableWidth,"px")}}):null,m("table",{class:"vxe-table--footer",attrs:{cellspacing:0,cellpadding:0,border:0},style:{width:null===r?r:"".concat(r+n,"px"),"margin-left":v?null:"".concat(d.leftSpaceWidth,"px")}},[m("colgroup",t.map(function(e,t){return m("col",{attrs:{name:e.id,width:e.renderWidth},key:t})}).concat([m("col",{attrs:{width:n}})])),m("tfoot",l.map(function(x,p){return m("tr",{class:["vxe-footer--row",o?_xeUtils.default.isFunction(o)?o({$rowIndex:p,fixed:v}):o:""]},t.map(function(t,l){var e,o=t.showOverflow,r=t.renderWidth,n=t.columnKey,i=t.children&&t.children.length,c=v?t.fixed!==v&&!i:t.fixed&&g,d=_xeUtils.default.isUndefined(o)||_xeUtils.default.isNull(o)?_:o,a=!0===d||"tooltip"===d,s="title"===d||a||"ellipsis"===d,u={},f=$(t);return a&&(u.mouseover=function(e){h.triggerFooterTooltipEvent(e,{$table:h,$rowIndex:p,column:t,columnIndex:f,$columnIndex:l,fixed:v})},u.mouseout=function(e){h.clostTooltip()}),b["header-cell-click"]&&(u.click=function(e){_tools.UtilTools.emitEvent(h,"header-cell-click",[{$table:h,$rowIndex:p,column:t,columnIndex:f,$columnIndex:l,fixed:v,cell:e.currentTarget},e])}),b["header-cell-dblclick"]&&(u.dblclick=function(e){_tools.UtilTools.emitEvent(h,"header-cell-dblclick",[{$table:h,$rowIndex:p,column:t,columnIndex:f,$columnIndex:l,fixed:v,cell:e.currentTarget},e])}),m("td",{class:["vxe-footer--column",t.id,(e={},_defineProperty(e,"col--".concat(t.headerAlign),t.headerAlign),_defineProperty(e,"fixed--hidden",c),_defineProperty(e,"col--ellipsis",s),_defineProperty(e,"filter--active",t.filters.some(function(e){return e.checked})),e),w?_xeUtils.default.isFunction(w)?w({$rowIndex:p,column:t,columnIndex:f,$columnIndex:l,fixed:v}):w:""],attrs:{"data-colid":t.id},on:u,key:n||(h.columnKey?t.id:f)},[m("div",{class:"vxe-cell",style:{width:s?"".concat(y?r-1:r,"px"):null}},x[l])])}).concat([m("td",{class:["col--gutter"],style:{width:"".concat(n,"px")}})]))}))])])},methods:{scrollEvent:function(e){var t=this.$parent,l=this.fixedType,o=t.$refs,r=t.scrollXLoad,n=t.triggerScrollXEvent,i=o.tableHeader,c=i?i.$el:null,d=o.tableBody.$el,a=o.tableFooter.$el.scrollLeft;c&&(c.scrollLeft=a),d&&(d.scrollLeft=a),r&&n(e),_tools.UtilTools.emitEvent(t,"scroll",[{type:"footer",fixed:l,scrollTop:d.scrollTop,scrollLeft:a,$table:t},e])}}};exports.default=_default;