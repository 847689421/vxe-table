"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_tools=require("../../tools");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var _default={name:"VxeTableFooter",props:{footerData:Array,tableColumn:Array,visibleColumn:Array,fixedColumn:Array,size:String,fixedType:String},render:function(p){var h=this.$parent,m=this.fixedType,e=this.fixedColumn,t=this.tableColumn,l=this.footerData,v=h.$listeners,b=h.border,o=h.footerRowClassName,y=h.footerCellClassName,r=h.tableWidth,n=h.scrollbarWidth,i=h.scrollbarHeight,c=h.scrollXLoad,d=h.scrollXStore,w=h.showOverflow,_=h.overflowX,g=h.getColumnMapIndex;return m&&w?r=(t=e).reduce(function(e,t){return e+t.renderWidth},0):c&&(m&&(t=e),r=t.reduce(function(e,t){return e+t.renderWidth},0)),p("div",{class:["vxe-table--footer-wrapper",m?"fixed--".concat(m,"-wrapper"):"footer--wrapper"],style:{"margin-top":"".concat(-i-1,"px")},on:{scroll:this.scrollEvent}},[!m&&c?p("div",{class:["vxe-body--x-space"],style:{width:"".concat(h.tableWidth,"px")}}):null,p("table",{class:"vxe-table--footer",attrs:{cellspacing:0,cellpadding:0,border:0},style:{width:null===r?r:"".concat(r+n,"px"),"margin-left":m?null:"".concat(d.leftSpaceWidth,"px")}},[p("colgroup",t.map(function(e,t){return p("col",{attrs:{name:e.id,width:e.renderWidth}})}).concat([p("col",{attrs:{width:n}})])),p("tfoot",l.map(function(f,x){return p("tr",{class:["vxe-footer--row",o?_xeUtils.default.isFunction(o)?o({$rowIndex:x,fixed:m}):o:""]},t.map(function(t,l){var e,o=t.showOverflow,r=t.renderWidth,n=t.children&&t.children.length,i=m?t.fixed!==m&&!n:t.fixed&&_,c=_xeUtils.default.isUndefined(o)||_xeUtils.default.isNull(o)?w:o,d=!0===c||"tooltip"===c,a="title"===c||d||"ellipsis"===c,s={},u=g(t);return d&&(s.mouseover=function(e){h.triggerFooterTooltipEvent(e,{$table:h,$rowIndex:x,column:t,columnIndex:u,$columnIndex:l,fixed:m})},s.mouseout=function(e){h.clostTooltip()}),v["header-cell-click"]&&(s.click=function(e){_tools.UtilTools.emitEvent(h,"header-cell-click",[{$table:h,$rowIndex:x,column:t,columnIndex:u,$columnIndex:l,fixed:m,cell:e.currentTarget},e])}),v["header-cell-dblclick"]&&(s.dblclick=function(e){_tools.UtilTools.emitEvent(h,"header-cell-dblclick",[{$table:h,$rowIndex:x,column:t,columnIndex:u,$columnIndex:l,fixed:m,cell:e.currentTarget},e])}),p("td",{class:["vxe-footer--column",t.id,(e={},_defineProperty(e,"col--".concat(t.headerAlign),t.headerAlign),_defineProperty(e,"fixed--hidden",i),_defineProperty(e,"col--ellipsis",a),_defineProperty(e,"filter--active",t.filters.some(function(e){return e.checked})),e),y?_xeUtils.default.isFunction(y)?y({$rowIndex:x,column:t,columnIndex:u,$columnIndex:l,fixed:m}):y:""],attrs:{"data-index":u},on:s,key:u},[p("div",{class:"vxe-cell",style:{width:a?"".concat(b?r-1:r,"px"):null}},f[u])])}).concat([p("td",{class:["col--gutter"],style:{width:"".concat(n,"px")}})]))}))])])},methods:{scrollEvent:function(e){var t=this.$parent,l=this.fixedType,o=t.$refs,r=t.scrollXLoad,n=t.triggerScrollXEvent,i=o.tableHeader,c=i?i.$el:null,d=o.tableBody.$el,a=o.tableFooter.$el.scrollLeft;c&&(c.scrollLeft=a),d&&(d.scrollLeft=a),r&&n(e),_tools.UtilTools.emitEvent(t,"scroll",[{type:"footer",fixed:l,scrollTop:d.scrollTop,scrollLeft:a,$table:t},e])}}};exports.default=_default;