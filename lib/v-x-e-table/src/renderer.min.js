"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Renderer=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_tools=require("../../tools");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function defaultRenderer(e,t,r,o){var n=o.$table,u=o.row,l=o.column,a=r.name;return[e("div",{class:"vxe-input--wrapper"},[e(a,{class:"vxe-".concat(a),attrs:t,domProps:{value:_tools.UtilTools.getCellValue(u,l)},on:{input:function(e){var t=e.target.value;_tools.UtilTools.setCellValue(u,l,t),n.updateStatus(o,t)}}})])]}function renderOptgroups(r,o,n){var e=o.optionGroups,t=o.optionGroupProps,u=void 0===t?{}:t,l=u.options||"options",a=u.label||"label";return e.map(function(e,t){return r("optgroup",{domProps:{label:e[a]},key:t},renderOptions(r,e[l],o,n))})}function renderOptions(r,e,t,o){var n=t.optionProps,u=void 0===n?{}:n,l=o.row,a=o.column,i=u.label||"label",p=u.value||"value";return e.map(function(e,t){return r("option",{domProps:{value:e[p],selected:e.value===_tools.UtilTools.getCellValue(l,a)},key:t},e[i])})}var _storeMap={input:{autofocus:".vxe-input",renderEdit:function(e,t,r){return defaultRenderer(e,{type:"text"},t,r)}},textarea:{autofocus:".vxe-textarea",renderEdit:function(e,t,r){return defaultRenderer(e,null,t,r)}},select:{renderEdit:function(e,t,r){var o=t.options,n=t.optionGroups,u=r.$table,l=r.row,a=r.column;return[e("select",{class:"vxe-default-select",on:{change:function(e){var t=e.target.value;_tools.UtilTools.setCellValue(l,a,t),u.updateStatus(r,t)}}},n?renderOptgroups(e,t,r):renderOptions(e,o,t,r))]},renderCell:function(e,t,r){var u=t.options,l=t.optionGroups,o=t.optionProps,a=void 0===o?{}:o,n=t.optionGroupProps,i=void 0===n?{}:n,p=r.row,s=r.column,d=_xeUtils.default.get(p,s.property);if(null!=d&&""!==d){var f=function(){var e,t=a.label||"label",r=a.value||"value";if(l){for(var o=i.options||"options",n=0;n<l.length&&!(e=l[n][o].find(function(e){return e[r]===d}));n++);return{v:e?e[t]:null}}return{v:(e=u.find(function(e){return e[r]===d}))?e[t]:null}}();if("object"===_typeof(f))return f.v}return""}}},Renderer={mixin:function(e){return _xeUtils.default.each(e,function(e,t){return Renderer.add(t,e)}),Renderer},get:function(e){return _storeMap[e]||null},add:function(e,t){if(e&&t){var r=_storeMap[e];r?Object.assign(r,t):_storeMap[e]=t}return Renderer},delete:function(e){return delete _storeMap[e],Renderer}},_default=exports.Renderer=Renderer;exports.default=_default;