"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.UtilTools=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var columnUniqueId=0,ColumnConfig=function e(t){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=l.renderHeader,r=l.renderCell,i=l.renderData;_classCallCheck(this,e),Object.assign(this,{id:"col--".concat(++columnUniqueId),type:t.type,prop:t.prop,property:t.field||t.prop,title:t.title,label:t.label,width:t.width,minWidth:t.minWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,indexMethod:t.indexMethod,formatter:t.formatter,sortable:t.sortable,sortBy:t.sortBy,remoteSort:t.remoteSort,filters:(t.filters||[]).map(function(e){var t=e.label,l=e.value,n=e.data;return{label:t,value:l,data:n,_data:n,checked:!1}}),filterMultiple:!_xeUtils.default.isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterRender:t.filterRender,treeNode:t.treeNode,columnKey:t.columnKey,editRender:t.editRender,params:t.params,visible:!0,level:1,rowSpan:1,colSpan:1,order:null,isResizable:!1,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderHeader:n||t.renderHeader,renderCell:r||t.renderCell,renderData:i,slots:t.slots,own:t})},UtilTools={getSize:function(e){var t=e.size,l=e.$parent;return t||(l&&-1<["medium","small","mini"].indexOf(l.size)?l.size:null)},getRowKey:function(e){var t=e.rowKey,l=e.rowId,n=e.selectConfig,r=void 0===n?{}:n,i=e.treeConfig,o=void 0===i?{}:i,a=e.expandConfig,d=void 0===a?{}:a,s=e.editConfig,u=void 0===s?{}:s;return t||(t=l||r.key||o.key||d.key||u.key),t},getRowPrimaryKey:function(e,t,l){var n=UtilTools.getRowKey(e);return"".concat(n?encodeURIComponent(_xeUtils.default.get(t,n)||""):l)},emitEvent:function(e,t,l){e.$listeners[t]&&e.$emit.apply(e,[t].concat(l))},getColumnList:function(e){var t=[];return e.forEach(function(e){e.children&&e.children.length?t.push.apply(t,UtilTools.getColumnList(e.children)):t.push(e)}),t},formatText:function(e,t){return""+(null==e?t?"ã€€":"":e)},getCellValue:function(e,t){return _xeUtils.default.get(e,t.property)},getCellLabel:function(e,t,l){var n=t.formatter,r=UtilTools.getCellValue(e,t);return l&&n?_xeUtils.default.isString(n)?_xeUtils.default[n](r):_xeUtils.default.isArray(n)?_xeUtils.default[n[0]].apply(_xeUtils.default,[r].concat(n.slice(1))):n(Object.assign({cellValue:r},l)):r},setCellValue:function(e,t,l){return _xeUtils.default.set(e,t.property,l)},getColumnConfig:function(e,t){return e instanceof ColumnConfig?e:new ColumnConfig(e,t)},assemColumn:function(e){var t=e.$table,l=e.$parent,n=e.columnConfig,r=l.columnConfig;n.slots=e.$scopedSlots,r&&0<l.$children.length?(r.children||(r.children=[]),r.children.splice([].indexOf.call(l.$el.children,e.$el),0,n)):t.collectColumn.splice([].indexOf.call(t.$refs.hideColumn.children,e.$el),0,n)},destroyColumn:function(e){var t=e.$table,l=e.columnConfig,n=_xeUtils.default.findTree(t.collectColumn,function(e){return e===l});n&&n.items.splice(n.index,1)},hasChildrenList:function(e){return e&&e.children&&0<e.children.length}},_default=exports.UtilTools=UtilTools;exports.default=_default;